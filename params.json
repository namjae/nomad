{
  "name": "Nomad",
  "tagline": "Elixir/Phoenix Cloud SDK and Deployment Tool",
  "body": "# Nomad Tutorials\r\n**Table of Contents**\r\n- [Installation and Configuration](#installation)\r\n- [Storage Tutorial](#storage_tutorial)\r\n\r\n## Installation and Configuration<a name=\"installation\"></a>\r\nTo use Nomad first do the following steps:\r\n  1. Add nomad to your list of dependencies in mix.exs:\r\n\r\n          def deps do\r\n              [{:nomad, \"~> 0.5.1\"}]\r\n          end\r\n        or\r\n          def deps do \r\n              [{:nomad, github: \"sashaafm/nomad\" }]\r\n            end\r\n\r\n  2. Ensure nomad is started before your application:\r\n\r\n          def application do\r\n            [applications: [:nomad]]\r\n          end\r\n    \r\n  3. For every cloud provider you will need to add to your desired environment the following:\r\n\r\n         config :nomad, \r\n           cloud_provider: <provider_atom>\r\n           \r\n  4. Each provider needs different configurations\r\n     \r\n     To use **Amazon Web Services** the following configurations are needed:\r\n\r\n         config :nomad,\r\n           cloud_provider: :aws\r\n      \r\n     Then pass your AWS Access Key ID and AWS Secret Access Key as System variables when launching the application like so:\r\n\r\n         AWS_ACCESS_KEY_ID=<aws_access_key_id> AWS_SECRET_ACCESS_KEY=<secret_access_key>\r\n    \r\n     To use **Google Cloud Platform** the following configurations are needed:\r\n\r\n         config :nomad,\r\n           cloud_provider: :gcl\r\n    \r\n         config :goth, \r\n           json: \"config/creds.json\" |> Path.expand |> File.read!\r\n           \r\n     Where 'creds.json' is the JSON file with your account credentials that you may download from your Google Cloud Console. Alternatively you may name the file whatever you want as long as you change the config accordingly.\r\n     \r\nThe atom passed in the **:cloud_provider** key will tell Nomad what API function blocks will need to be generated.\r\n\r\n## Storage Tutorial<a name=\"storage_tutorial\"></a>\r\nNomad provides an API for interaction with cloud storage services like Amazon S3 or Google Cloud Storage. For this tutorial let's create a storage bucket, upload a file, delete it and then delete the bucket. We'll be using Google Cloud Storage so be sure to input the necessary configs first. Fire up Nomad in IEx with `iex -s mix`:\r\n\r\nFirst let's create the storage bucket. This function takes 3 arguments - the name, the region and the storage class.\r\n```\r\niex> Nomad.Storage.create_storage \"storage_nomad_tutorial\", \"europe-west1\", \"STANDARD\"\r\n:ok\r\n```\r\nAll right! Let's check if it indeed was created.\r\n```\r\niex> Nomad.Storage.list_storages\r\n[\"storage_nomad_1\", \"storage_nomad_2\", \"storage_nomad_tutorial\"]\r\n```\r\nEverything seems correct. Now let's upload a file to our new storage. The `Nomad.Storage.put_item` also takes 3 arguments - the desired storage name, the filepath of the file we want to upload and the storage path (the directory in the storage where we want to store the file).\r\n```\r\niex> Nomad.Storage.put_item \"storage_nomad_tutorial\", \"README.md\", \"random/tutorial/README.md\"\r\n:ok\r\n```\r\nSuccess! Let's confirm it was indeed uploaded with the `Nomad.Storage.list_items` function.\r\n```\r\niex> Nomad.Storage.list_items \"storage_nomad_tutorial\"     \r\n[\"random/tutorial/README.md\"]\r\n```\r\nThere it is. Nomad also creates the directory structure if it doesn't exist. Let's delete it.\r\n```\r\niex> Nomad.Storage.delete_item \"storage_nomad_tutorial\", \"random/tutorial/README.md\"\r\n:ok\r\niex> Nomad.Storage.list_items \"storage_nomad_tutorial\"\r\n[]\r\n```\r\nThe file was deleted! Now to finish we'll delete the storage.\r\n```\r\niex> Nomad.Storage.delete_storage \"storage_nomad_tutorial\"\r\n:ok\r\niex> Nomad.Storage.list_storages\r\n[\"storage_nomad_1\", \"storage_nomad_2\"]\r\n```\r\nAnd there it is! Remember that you could have used any other supported cloud provider in the exact same way as long as you change the configurations to the appropriate ones! **No code changes required!**",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}